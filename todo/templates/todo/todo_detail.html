{% extends 'todo/todo-base.html' %}

{% block title %}
Todos
{% endblock %}

{%block css%}
<style>
    .dropdown-toggle:after {
        display: none;
    }
</style>
{%endblock%}



{% block content %}
<div>

    <div class="items mb-3 d-flex justify-content-between">
        <div class="project-name fs-5 fw-bold text-danger d-flex align-content-center">
            Todo Name
        </div>
        <div class="d-flex justify-content-center align-items-center">

            <a class="btn btn-success btn-sm me-2 tip" data-toggle="tooltip" data-placement="top" title="Edit Todo"
                href="{% url 'edit_todo' pk %}"> <i class="fas fa-edit"></i>
            </a>

            <a class="btn btn-danger btn-sm me-5 tip" data-toggle="tooltip" data-placement="top" title="Delete Todo"
                href="{% url 'delete_todo' pk %}"><i class="fa-solid fa-trash-can"></i></a>

            <a class="btn btn-primary btn-sm tip" data-toggle="tooltip" data-placement="top" title="Add a Task"
                href="{% url 'create_task' pk  %}">
                <i class="fas fa-plus"></i> Add
            </a>


        </div>

    </div>

    <div class="card">
        <div class="card-body">

            <table id="table_id">
                <thead>
                    <tr>
                        <th>Task</th>
                        <th>Type</th>
                        <th>Priority</th>
                        <th>Deadline</th>
                        <th>Assigned To</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for d in detail %}
                    <tr>
                        <td>
                            {%if d.completed%}
                            <strike>{{d.task}}</strike>
                            {% else %}
                            {{d.task}}
                            {% endif %}
                        </td>

                        <td>{{d.task_type}}</td>

                        <td>{{d.priority}}</td>

                        <td>{{d.deadline}}</td>

                        <td>{{d.assigned_to}}</td>
                        <td class="d-flex">
                            <a href="{% url 'edit_task' pk=d.id todo_id=pk %}"><i class="fas fa-edit me-2"></i></a>
                            <a href="{% url 'delete_task_data' todo_id=pk pk=d.id %}"
                                class="btn btn-danger btn-sm me-2"><i class="fa-solid fa-trash-can"></i></a>
                            <a href="{% url 'task_completed' todo_id=pk task_id=d.id %}"
                                class="{% if d.completed %}text-success{%else%} text-dark{%endif%}"><i
                                    class="fa-solid fa-circle-check"></i></a>

                        </td>
                    </tr>
                    {% endfor %}

                </tbody>
            </table>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $('#table_id').DataTable();
        });
    </script>

</div>
{% endblock %}


<!-- Different Page Layouts
{% if currentPage %}

{% block table %}

<div> Table Here </div>

{% endblock %}

{% elif create %}



{% endif %} -->